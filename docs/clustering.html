
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>Clustering &#8212; autoprot  documentation</title>
  <script>
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=9b1a4fa89bdd0e95b23b" rel="stylesheet">
<link href="_static/styles/pydata-sphinx-theme.css?digest=9b1a4fa89bdd0e95b23b" rel="stylesheet">

  
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/6.1.2/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="_static/css/custom.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=9b1a4fa89bdd0e95b23b">

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'clustering';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Data Visualization" href="visualization.html" />
    <link rel="prev" title="Analysis" href="analysis.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="docsearch:language" content="en">
  </head>
  
  
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="180" data-default-mode="">

  
  <input type="checkbox" class="sidebar-toggle" name="__primary" id="__primary">
  <label class="overlay overlay-primary" for="__primary"></label>

  
  <input type="checkbox" class="sidebar-toggle" name="__secondary" id="__secondary">
  <label class="overlay overlay-secondary" for="__secondary"></label>

  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
      
<form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false">
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
    </div>
  </div>

  
  <nav class="bd-header navbar navbar-expand-lg bd-navbar" id="navbar-main"><div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
      <span class="fas fa-bars"></span>
  </label>
  <div id="navbar-start">
    
    
  


<a class="navbar-brand logo" href="index.html">

  
  
  
  
  
  
  

  
  
    <p class="title logo__title">autoprot  documentation</p>
  
</a>
    
  </div>

  
  <div class="col-lg-9 navbar-header-items">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <nav class="navbar-nav">
    <p class="sidebar-header-items__title" role="heading" aria-level="1" aria-label="Site Navigation">
        Site Navigation
    </p>
    <ul id="navbar-main-elements" class="navbar-nav">
        
                <li class="nav-item">
                    <a class="nav-link" href="installation.html">
                        Installation
                    </a>
                </li>
                

                <li class="nav-item">
                    <a class="nav-link" href="preprocessing.html">
                        Data Preprocessing
                    </a>
                </li>
                

                <li class="nav-item">
                    <a class="nav-link" href="analysis.html">
                        Analysis
                    </a>
                </li>
                

                <li class="nav-item current active">
                    <a class="nav-link" href="#">
                        Clustering
                    </a>
                </li>
                

                <li class="nav-item">
                    <a class="nav-link" href="visualization.html">
                        Data Visualization
                    </a>
                </li>
                
            <div class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    More
                </button>
                <div class="dropdown-menu">
                    
                <li class="nav-item">
                    <a class="nav-link" href="workflows.html">
                        Workflows
                    </a>
                </li>
                
                </div>
            </div>
            
    </ul>
</nav>
      </div>
      
    </div>

    <div id="navbar-end">
      <div class="navbar-end-item navbar-end__search-button-container">
        
<button class="btn btn-sm navbar-btn search-button search-button__button" title="Search">
  <i class="fas fa-search"></i>
</button>
      </div>
      
      <div class="navbar-end-item">
        <span class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle">
    <a class="theme-switch" data-mode="light"><i class="fas fa-sun"></i></a>
    <a class="theme-switch" data-mode="dark"><i class="far fa-moon"></i></a>
    <a class="theme-switch" data-mode="auto"><i class="fas fa-adjust"></i></a>
</span>
      </div>
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
      </ul>
      </div>
      
    </div>
  </div>


  
  <div class="search-button-container--mobile">
<button class="btn btn-sm navbar-btn search-button search-button__button" title="Search">
  <i class="fas fa-search"></i>
</button>
  </div>

  
  <label class="sidebar-toggle secondary-toggle" for="__secondary">
      <span class="fas fa-outdent"></span>
  </label>
  

</div>
  </nav>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar hide-on-wide">
        
  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
      
      <div class="navbar-center-item">
        <nav class="navbar-nav">
    <p class="sidebar-header-items__title" role="heading" aria-level="1" aria-label="Site Navigation">
        Site Navigation
    </p>
    <ul id="navbar-main-elements" class="navbar-nav">
        
                <li class="nav-item">
                    <a class="nav-link" href="installation.html">
                        Installation
                    </a>
                </li>
                

                <li class="nav-item">
                    <a class="nav-link" href="preprocessing.html">
                        Data Preprocessing
                    </a>
                </li>
                

                <li class="nav-item">
                    <a class="nav-link" href="analysis.html">
                        Analysis
                    </a>
                </li>
                

                <li class="nav-item current active">
                    <a class="nav-link" href="#">
                        Clustering
                    </a>
                </li>
                

                <li class="nav-item">
                    <a class="nav-link" href="visualization.html">
                        Data Visualization
                    </a>
                </li>
                
            <div class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    More
                </button>
                <div class="dropdown-menu">
                    
                <li class="nav-item">
                    <a class="nav-link" href="workflows.html">
                        Workflows
                    </a>
                </li>
                
                </div>
            </div>
            
    </ul>
</nav>
      </div>
      
      </div>
    

    
    
    <div class="sidebar-header-items__end">
      
      <div class="navbar-end-item">
        <span class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle">
    <a class="theme-switch" data-mode="light"><i class="fas fa-sun"></i></a>
    <a class="theme-switch" data-mode="dark"><i class="far fa-moon"></i></a>
    <a class="theme-switch" data-mode="auto"><i class="fas fa-adjust"></i></a>
</span>
      </div>
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
      </ul>
      </div>
      
    </div>
    
  </div>

  

  
  <div class="sidebar-end-items sidebar-primary__section">
    <div class="sidebar-end-items__item">
    </div>
  </div>

      </div>
      <main class="bd-main">
        
        
        <div class="bd-content">
          <div class="bd-article-container">
            
            <div class="bd-header-article">
                
            </div>
            
            
            <article class="bd-article" role="main">
              
  <section id="clustering">
<h1>Clustering<a class="headerlink" href="#clustering" title="Permalink to this heading">#</a></h1>
<p>The clustering submodule contains collections of functions for data clustering.
All functions are organised in classes that store the required variables as objects of the class.
As all clustering classes are based on the same base class, using the different clustering methods should be as stright forward as changing the name of the method.</p>
<span class="target" id="module-autoprot.clustering"></span><p>Autoprot Clustering Functions.</p>
<p>&#64;author: Wignand, Julian</p>
<p>&#64;documentation: Julian</p>
<dl class="py class">
<dt class="sig sig-object py" id="autoprot.clustering.Cluster">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">autoprot.clustering.</span></span><span class="sig-name descname"><span class="pre">Cluster</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clabels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rlabels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">linkage</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/autoprot/clustering.html#Cluster"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#autoprot.clustering.Cluster" title="Permalink to this definition">#</a></dt>
<dd><p>Base class for clustering pipelines.</p>
<dl class="py method">
<dt class="sig sig-object py" id="autoprot.clustering.Cluster.return_cluster">
<span class="sig-name descname"><span class="pre">return_cluster</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/autoprot/clustering.html#Cluster.return_cluster"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#autoprot.clustering.Cluster.return_cluster" title="Permalink to this definition">#</a></dt>
<dd><p>Return dataframe with clustered data.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="autoprot.clustering.Cluster.vis_cluster">
<span class="sig-name descname"><span class="pre">vis_cluster</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">col_cluster</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">make_traces</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">make_heatmap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">row_colors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colors</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">list</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ytick_labels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/autoprot/clustering.html#Cluster.vis_cluster"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#autoprot.clustering.Cluster.vis_cluster" title="Permalink to this definition">#</a></dt>
<dd><p>Visualise the clustering.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>col_cluster</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to cluster the columns. The default is False.</p></li>
<li><p><strong>make_traces</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to generate traces of each cluster. The default is False.</p></li>
<li><p><strong>make_heatmap</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to generate a summery heatmap.
The default is False.</p></li>
<li><p><strong>file</strong> (<em>str</em><em>, </em><em>optional</em>) – Path to the output plot file. The default is None.</p></li>
<li><p><strong>row_colors</strong> (<em>dict</em><em>, </em><em>optional</em>) – dictionary of mapping a row title to a list of colours.
The list must have the same length as the data has rows.
Generates an additional column in the heatmeap showing
the indicated columns values as colors.
Has to be same length as provided data.
The default is None.</p></li>
<li><p><strong>colors</strong> (<em>list of str</em><em>, </em><em>optional</em>) – Colors for the annotated clusters.
Has to be the same size as the number of clusters.
The default is None.</p></li>
<li><p><strong>ytick_labels</strong> (<em>list of str</em><em>, </em><em>optional</em>) – Labels for the y ticks. The default is “”.</p></li>
<li><p><strong>**kwargs</strong> – passed to seaborn.clustermap.
See <a class="reference external" href="https://seaborn.pydata.org/generated/seaborn.clustermap.html">https://seaborn.pydata.org/generated/seaborn.clustermap.html</a>
May also contain ‘z-score’ that is used during making of
cluster traces.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="autoprot.clustering.Cluster.write_cluster_files">
<span class="sig-name descname"><span class="pre">write_cluster_files</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">root_dir</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/autoprot/clustering.html#Cluster.write_cluster_files"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#autoprot.clustering.Cluster.write_cluster_files" title="Permalink to this definition">#</a></dt>
<dd><p>Generate a folder with text files for each cluster.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>root_dir</strong> (<em>str</em>) – Path to target dir.
If the folder is named clusterResults, text files will be saved
within.
Else a new folder clusterResults will be created.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="autoprot.clustering.HCA">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">autoprot.clustering.</span></span><span class="sig-name descname"><span class="pre">HCA</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clabels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rlabels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">linkage</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/autoprot/clustering.html#HCA"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#autoprot.clustering.HCA" title="Permalink to this definition">#</a></dt>
<dd><p>Conduct hierarchical cluster analysis.</p>
<p class="rubric">Notes</p>
<p>User provides dataframe and can afterwards use various metrics and methods to perfom and evaluate
clustering.</p>
<p>StandarWorkflow:
makeLinkage() -&gt; findNClusters() -&gt; makeCluster()</p>
<p class="rubric">Examples</p>
<p>First grab a dataset that will be used for clustering such as the iris dataset.
Extract the species labelling from the dataframe as it cannot be used for
clustering and will be used later to evaluate the result.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">load_dataset</span><span class="p">(</span><span class="s1">&#39;iris&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">labels</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;species&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Initialise the clustering class with the data and find the optimum number of
clusters and generate the final clustering with the autoRun method.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">autoprot</span> <span class="kn">import</span> <span class="n">clustering</span> <span class="k">as</span> <span class="n">clst</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">clst</span><span class="o">.</span><span class="n">HCA</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="go">Removed 0 NaN values from the dataframe to prepare for clustering.</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">auto_run</span><span class="p">()</span>
<span class="go">Best Davies Boulding at 2 with 0.38275284210068616</span>
<span class="go">Best Silhouoette_score at 2 with 0.6867350732769781</span>
<span class="go">Best Harabasz/Calinski at 2 with 502.82156350235897</span>
<span class="go">Using Davies Boulding Score for setting # clusters: 2</span>
<span class="go">You may manually overwrite this by setting self.nclusters</span>
</pre></div>
</div>
<p>(<a class="reference external" href=".//clustering-1.py">Source code</a>, <a class="reference external" href=".//clustering-1.png">png</a>, <a class="reference external" href=".//clustering-1.hires.png">hires.png</a>, <a class="reference external" href=".//clustering-1.pdf">pdf</a>)</p>
<figure class="align-default">
<img alt="_images/clustering-1.png" class="plot-directive" src="_images/clustering-1.png" />
</figure>
<p>Finally visualise the clustering using the visCluster method and include the
previously extracted labeling column from the original dataframe.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">labels</span><span class="o">.</span><span class="n">replace</span><span class="p">([</span><span class="s1">&#39;setosa&#39;</span><span class="p">,</span> <span class="s1">&#39;virginica&#39;</span><span class="p">,</span> <span class="s1">&#39;versicolor&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s2">&quot;teal&quot;</span><span class="p">,</span> <span class="s2">&quot;purple&quot;</span><span class="p">,</span> <span class="s2">&quot;salmon&quot;</span><span class="p">],</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rc</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;species&quot;</span> <span class="p">:</span> <span class="n">labels</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">vis_cluster</span><span class="p">(</span><span class="n">row_colors</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;species&#39;</span><span class="p">:</span> <span class="n">labels</span><span class="p">})</span>
</pre></div>
</div>
<blockquote>
<div><p>(<a class="reference external" href=".//clustering-2.py">Source code</a>, <a class="reference external" href=".//clustering-2.png">png</a>, <a class="reference external" href=".//clustering-2.hires.png">hires.png</a>, <a class="reference external" href=".//clustering-2.pdf">pdf</a>)</p>
<figure class="align-default">
<img alt="_images/clustering-2.png" class="plot-directive" src="_images/clustering-2.png" />
</figure>
</div></blockquote>
<p>HCA separates the setosa quite well but virginica and versicolor are harder.
When we manually pick true the number of clusters, HCA performs only slightly
better von this dataset. Note that you can change the default cmap for the
class by changing the cmap attribute.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">nclusters</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">make_cluster</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">cmap</span> <span class="o">=</span> <span class="s1">&#39;coolwarm&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">vis_cluster</span><span class="p">(</span><span class="n">row_colors</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;species&#39;</span><span class="p">:</span> <span class="n">labels</span><span class="p">},</span> <span class="n">make_traces</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">make_heatmap</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<blockquote>
<div><p>(<a class="reference external" href=".//clustering-3.py">Source code</a>)</p>
<figure class="align-default" id="id1">
<img alt="_images/clustering-3_00.png" class="plot-directive" src="_images/clustering-3_00.png" />
<figcaption>
<p><span class="caption-text">(<a class="reference external" href=".//clustering-3_00.png">png</a>, <a class="reference external" href=".//clustering-3_00.hires.png">hires.png</a>, <a class="reference external" href=".//clustering-3_00.pdf">pdf</a>)</span><a class="headerlink" href="#id1" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<figure class="align-default" id="id2">
<img alt="_images/clustering-3_01.png" class="plot-directive" src="_images/clustering-3_01.png" />
<figcaption>
<p><span class="caption-text">(<a class="reference external" href=".//clustering-3_01.png">png</a>, <a class="reference external" href=".//clustering-3_01.hires.png">hires.png</a>, <a class="reference external" href=".//clustering-3_01.pdf">pdf</a>)</span><a class="headerlink" href="#id2" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<figure class="align-default" id="id3">
<img alt="_images/clustering-3_02.png" class="plot-directive" src="_images/clustering-3_02.png" />
<figcaption>
<p><span class="caption-text">(<a class="reference external" href=".//clustering-3_02.png">png</a>, <a class="reference external" href=".//clustering-3_02.hires.png">hires.png</a>, <a class="reference external" href=".//clustering-3_02.pdf">pdf</a>)</span><a class="headerlink" href="#id3" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
</div></blockquote>
<dl class="py method">
<dt class="sig sig-object py" id="autoprot.clustering.HCA.auto_run">
<span class="sig-name descname"><span class="pre">auto_run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start_processing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stop_processing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/autoprot/clustering.html#HCA.auto_run"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#autoprot.clustering.HCA.auto_run" title="Permalink to this definition">#</a></dt>
<dd><p>Automatically run the clustering pipeline with standard settings.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>start_processing</strong> (<em>int</em><em>, </em><em>optional</em>) – Step of the pipeline to start. The default is 1.</p></li>
<li><p><strong>stop_processing</strong> (<em>int</em><em>, </em><em>optional</em>) – Step of the pipeline to stop. The default is 5.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The pipeline currently consists of (1) makeLinkage, (2) findNClusters
and (3) makeCluster.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="autoprot.clustering.HCA.find_nclusters">
<span class="sig-name descname"><span class="pre">find_nclusters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">up_to</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(15,</span> <span class="pre">5)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/autoprot/clustering.html#HCA.find_nclusters"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#autoprot.clustering.HCA.find_nclusters" title="Permalink to this definition">#</a></dt>
<dd><p>Evaluate number of clusters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>start</strong> (<em>int</em><em>, </em><em>optional</em>) – The minimum number of clusters to plot. The default is 2.</p></li>
<li><p><strong>up_to</strong> (<em>int</em><em>, </em><em>optional</em>) – The maximum number of clusters to plot. The default is 20.</p></li>
<li><p><strong>figsize</strong> (<em>tuple of float</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – The size of the plotted figure.
The default is (15,5).</p></li>
<li><p><strong>plot</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to plot the corresponding figures for the cluster scores</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Notes</p>
<dl class="simple">
<dt>Davies-Bouldin score:</dt><dd><p>The score is defined as the average similarity measure of each
cluster with its most similar cluster, where similarity is the
ratio of within-cluster distances to between-cluster distances.
Thus, clusters which are farther apart and less dispersed will
result in a better score.
The minimum score is zero, with lower values indicating better
clustering.</p>
</dd>
<dt>Silhouette score:</dt><dd><p>The Silhouette Coefficient is calculated using the mean
intra-cluster distance (a) and the mean nearest-cluster
distance (b) for each sample. The Silhouette Coefficient for a
sample is (b - a) / max(a, b). To clarify, b is the distance
between a sample and the nearest cluster that the sample is not a
part of. Note that Silhouette Coefficient is only defined if
number of labels is 2 &lt;= n_labels &lt;= n_samples - 1.
The best value is 1 and the worst value is -1. Values near 0
indicate overlapping clusters. Negative values generally indicate
that a sample has been assigned to the wrong cluster, as a
different cluster is more similar.</p>
</dd>
<dt>Harabasz score:</dt><dd><p>It is also known as the Variance Ratio Criterion.
The score is defined as ratio between the within-cluster dispersion
and the between-cluster dispersion.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="autoprot.clustering.HCA.make_cluster">
<span class="sig-name descname"><span class="pre">make_cluster</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/autoprot/clustering.html#HCA.make_cluster"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#autoprot.clustering.HCA.make_cluster" title="Permalink to this definition">#</a></dt>
<dd><p>Form flat clusters from the hierarchical clustering of linkage.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="autoprot.clustering.HCA.make_linkage">
<span class="sig-name descname"><span class="pre">make_linkage</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'single'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'braycurtis'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'canberra'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'chebyshev'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'cityblock'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'correlation'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'cosine'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'dice'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'euclidean'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'hamming'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'jaccard'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'jensenshannon'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'kulczynski1'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'mahalanobis'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'matching'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'minkowski'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'rogerstanimoto'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'russellrao'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'seuclidean'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'sokalmichener'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'sokalsneath'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'sqeuclidean'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'yule'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'spearman'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'pearson'</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'euclidean'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/autoprot/clustering.html#HCA.make_linkage"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#autoprot.clustering.HCA.make_linkage" title="Permalink to this definition">#</a></dt>
<dd><p>Perform hierarchical clustering on the data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>method</strong> (<em>str</em>) – Which method is used for the clustering.
Possible are ‘single’, ‘average’ and ‘complete’ and all values
for method of scipy.cluster.hierarchy.linkage
See: <a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.cluster.hierarchy.linkage.html">https://docs.scipy.org/doc/scipy/reference/generated/scipy.cluster.hierarchy.linkage.html</a></p></li>
<li><p><strong>metric</strong> (<em>str</em><em> or </em><em>function</em>) – Which metric is used to calculate distance.
Possible values are ‘pearson’, ‘spearman’ and all metrics
implemented in scipy.spatial.distance.pdist
See: <a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.spatial.distance.pdist.html">https://docs.scipy.org/doc/scipy/reference/generated/scipy.spatial.distance.pdist.html</a></p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="autoprot.clustering.KMeans">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">autoprot.clustering.</span></span><span class="sig-name descname"><span class="pre">KMeans</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clabels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rlabels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">linkage</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/autoprot/clustering.html#KMeans"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#autoprot.clustering.KMeans" title="Permalink to this definition">#</a></dt>
<dd><p>Perform KMeans clustering on a dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The functions uses scipy.cluster.vq.kmeans2
(see <a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.cluster.vq.kmeans2.html#scipy.cluster.vq.kmeans2">https://docs.scipy.org/doc/scipy/reference/generated/scipy.cluster.vq.kmeans2.html#scipy.cluster.vq.kmeans2</a>)</p>
<p class="rubric">References</p>
<ol class="upperalpha simple" start="4">
<li><p>Arthur and S. Vassilvitskii, “k-means++: the advantages of careful seeding”, Proceedings of the Eighteenth Annual ACM-SIAM Symposium on Discrete Algorithms, 2007.</p></li>
</ol>
<p class="rubric">Examples</p>
<p>First grab a dataset that will be used for clustering such as the iris dataset.
Extract the species labelling from the dataframe as it cannot be used for
clustering and will be used later to evaluate the result.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">load_dataset</span><span class="p">(</span><span class="s1">&#39;iris&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">labels</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;species&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Initialise the clustering class with the data and find the optimum number of
clusters and generate the final clustering with the autoRun method.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">autoprot</span> <span class="kn">import</span> <span class="n">clustering</span> <span class="k">as</span> <span class="n">clst</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">clst</span><span class="o">.</span><span class="n">KMeans</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="go">Removed 0 NaN values from the dataframe to prepare for clustering.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">auto_run</span><span class="p">()</span>
<span class="go">Best Davies Boulding at 2 with 0.40429283717304343</span>
<span class="go">Best Silhouette_score at 2 with 0.6810461692117465</span>
<span class="go">Best Harabasz/Calinski at 3 with 561.5937320156642</span>
<span class="go">Using Davies Boulding Score for setting # clusters: 2</span>
<span class="go">You may manually overwrite this by setting self.nclusters</span>
</pre></div>
</div>
<p>(<a class="reference external" href=".//clustering-4.py">Source code</a>, <a class="reference external" href=".//clustering-4.png">png</a>, <a class="reference external" href=".//clustering-4.hires.png">hires.png</a>, <a class="reference external" href=".//clustering-4.pdf">pdf</a>)</p>
<figure class="align-default">
<img alt="_images/clustering-4.png" class="plot-directive" src="_images/clustering-4.png" />
</figure>
<p>Finally visualise the clustering using the visCluster method and include the
previously extracted labeling column from the original dataframe.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">labels</span><span class="o">.</span><span class="n">replace</span><span class="p">([</span><span class="s1">&#39;setosa&#39;</span><span class="p">,</span> <span class="s1">&#39;virginica&#39;</span><span class="p">,</span> <span class="s1">&#39;versicolor&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s2">&quot;teal&quot;</span><span class="p">,</span> <span class="s2">&quot;purple&quot;</span><span class="p">,</span> <span class="s2">&quot;salmon&quot;</span><span class="p">],</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rc</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;species&quot;</span> <span class="p">:</span> <span class="n">labels</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">vis_cluster</span><span class="p">(</span><span class="n">row_colors</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;species&#39;</span><span class="p">:</span> <span class="n">labels</span><span class="p">})</span>
</pre></div>
</div>
<blockquote>
<div><p>(<a class="reference external" href=".//clustering-5.py">Source code</a>, <a class="reference external" href=".//clustering-5.png">png</a>, <a class="reference external" href=".//clustering-5.hires.png">hires.png</a>, <a class="reference external" href=".//clustering-5.pdf">pdf</a>)</p>
<figure class="align-default">
<img alt="_images/clustering-5.png" class="plot-directive" src="_images/clustering-5.png" />
</figure>
</div></blockquote>
<p>As you can see can KMeans quite well separate setosa but virginica and versicolor are harder.
When we manually pick the number of clusters, it gets a bit better</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">nclusters</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">make_cluster</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">vis_cluster</span><span class="p">(</span><span class="n">row_colors</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;species&#39;</span><span class="p">:</span> <span class="n">labels</span><span class="p">},</span> <span class="n">make_traces</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">make_heatmap</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<blockquote>
<div><p>(<a class="reference external" href=".//clustering-6.py">Source code</a>)</p>
<figure class="align-default" id="id4">
<img alt="_images/clustering-6_00.png" class="plot-directive" src="_images/clustering-6_00.png" />
<figcaption>
<p><span class="caption-text">(<a class="reference external" href=".//clustering-6_00.png">png</a>, <a class="reference external" href=".//clustering-6_00.hires.png">hires.png</a>, <a class="reference external" href=".//clustering-6_00.pdf">pdf</a>)</span><a class="headerlink" href="#id4" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<figure class="align-default" id="id5">
<img alt="_images/clustering-6_01.png" class="plot-directive" src="_images/clustering-6_01.png" />
<figcaption>
<p><span class="caption-text">(<a class="reference external" href=".//clustering-6_01.png">png</a>, <a class="reference external" href=".//clustering-6_01.hires.png">hires.png</a>, <a class="reference external" href=".//clustering-6_01.pdf">pdf</a>)</span><a class="headerlink" href="#id5" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<figure class="align-default" id="id6">
<img alt="_images/clustering-6_02.png" class="plot-directive" src="_images/clustering-6_02.png" />
<figcaption>
<p><span class="caption-text">(<a class="reference external" href=".//clustering-6_02.png">png</a>, <a class="reference external" href=".//clustering-6_02.hires.png">hires.png</a>, <a class="reference external" href=".//clustering-6_02.pdf">pdf</a>)</span><a class="headerlink" href="#id6" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
</div></blockquote>
<dl class="py method">
<dt class="sig sig-object py" id="autoprot.clustering.KMeans.auto_run">
<span class="sig-name descname"><span class="pre">auto_run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start_processing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stop_processing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/autoprot/clustering.html#KMeans.auto_run"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#autoprot.clustering.KMeans.auto_run" title="Permalink to this definition">#</a></dt>
<dd><p>Automatically run the clustering pipeline with standard settings.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>start_processing</strong> (<em>int</em><em>, </em><em>optional</em>) – Step of the pipeline to start. The default is 1.</p></li>
<li><p><strong>stop_processing</strong> (<em>int</em><em>, </em><em>optional</em>) – Step of the pipeline to stop. The default is 5.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The pipeline currently consists of (1) findNClusters
and (2) makeCluster.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="autoprot.clustering.KMeans.find_nclusters">
<span class="sig-name descname"><span class="pre">find_nclusters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">up_to</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(15,</span> <span class="pre">5)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">algo</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'scipy'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/autoprot/clustering.html#KMeans.find_nclusters"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#autoprot.clustering.KMeans.find_nclusters" title="Permalink to this definition">#</a></dt>
<dd><p>Evaluate number of clusters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>start</strong> (<em>int</em><em>, </em><em>optional</em>) – The minimum number of clusters to plot. The default is 2.</p></li>
<li><p><strong>up_to</strong> (<em>int</em><em>, </em><em>optional</em>) – The maximum number of clusters to plot. The default is 20.</p></li>
<li><p><strong>figsize</strong> (<em>tuple of float</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – The size of the plotted figure.
The default is (15,5).</p></li>
<li><p><strong>plot</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to plot the corresponding figures for the cluster scores</p></li>
<li><p><strong>algo</strong> (<em>str</em><em>, </em><em>optional</em>) – Algorith to use for KMeans Clustering. Either “scipy” or “sklearn”</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Notes</p>
<dl class="simple">
<dt>Davies-Bouldin score:</dt><dd><p>The score is defined as the average similarity measure of each
cluster with its most similar cluster, where similarity is the
ratio of within-cluster distances to between-cluster distances.
Thus, clusters which are farther apart and less dispersed will
result in a better score.
The minimum score is zero, with lower values indicating better
clustering.</p>
</dd>
<dt>Silhouette score:</dt><dd><p>The Silhouette Coefficient is calculated using the mean
intra-cluster distance (a) and the mean nearest-cluster
distance (b) for each sample. The Silhouette Coefficient for a
sample is (b - a) / max(a, b). To clarify, b is the distance
between a sample and the nearest cluster that the sample is not a
part of. Note that Silhouette Coefficient is only defined if
number of labels is 2 &lt;= n_labels &lt;= n_samples - 1.
The best value is 1 and the worst value is -1. Values near 0
indicate overlapping clusters. Negative values generally indicate
that a sample has been assigned to the wrong cluster, as a
different cluster is more similar.</p>
</dd>
<dt>Harabasz score:</dt><dd><p>It is also known as the Variance Ratio Criterion.
The score is defined as ratio between the within-cluster dispersion
and the between-cluster dispersion.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="autoprot.clustering.KMeans.make_cluster">
<span class="sig-name descname"><span class="pre">make_cluster</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">algo</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'scipy'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/autoprot/clustering.html#KMeans.make_cluster"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#autoprot.clustering.KMeans.make_cluster" title="Permalink to this definition">#</a></dt>
<dd><p>Perform k-means clustering and store the resulting labels in self.clusterId.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>algo</strong> (<em>str</em><em>, </em><em>optional</em>) – Algorith to use for KMeans Clustering. Either “scipy” or “sklearn”</p></li>
<li><p><strong>**kwargs</strong> – passed to either scipy or sklearn kmeans</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>


            </article>
            
            
            
            <footer class="bd-footer-article">
                <!-- Previous / next buttons -->
<div class='prev-next-area'>
  <a class='left-prev' id="prev-link" href="analysis.html" title="previous page">
      <i class="fas fa-angle-left"></i>
      <div class="prev-next-info">
          <p class="prev-next-subtitle">previous</p>
          <p class="prev-next-title">Analysis</p>
      </div>
  </a>
  <a class='right-next' id="next-link" href="visualization.html" title="next page">
  <div class="prev-next-info">
      <p class="prev-next-subtitle">next</p>
      <p class="prev-next-title">Data Visualization</p>
  </div>
  <i class="fas fa-angle-right"></i>
  </a>
</div>
            </footer>
            
          </div>
          
          
          
            <div class="bd-sidebar-secondary bd-toc">
              
<div class="toc-item">
  
</div>

<div class="toc-item">
  
<div class="tocsection sourcelink">
    <a href="_sources/clustering.rst.txt">
        <i class="fas fa-file-alt"></i> Show Source
    </a>
</div>

</div>

            </div>
          
          
        </div>
        <footer class="bd-footer-content">
          <div class="bd-footer-content__inner">
            
          </div>
        </footer>
        
      </main>
    </div>
  </div>

  
    
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/pydata-sphinx-theme.js?digest=9b1a4fa89bdd0e95b23b"></script>

  <footer class="bd-footer"><div class="bd-footer__inner container">
  
  <div class="footer-item">
    
<p class="copyright">

    &copy; Copyright 2022, The autoprot contributors.<br>

</p>

  </div>
  
  <div class="footer-item">
    
<p class="sphinx-version">
Created using <a href="http://sphinx-doc.org/">Sphinx</a> 5.0.2.<br>
</p>

  </div>
  
</div>
  </footer>
  </body>
</html>